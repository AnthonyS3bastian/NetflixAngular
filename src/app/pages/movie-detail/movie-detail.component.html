<!-- src/app/pages/movie-detail/movie-detail.component.html -->
<main class="detail-container" *ngIf="movie; else notFound">
  <mat-card class="detail-card">
    <img
      mat-card-image
      class="poster-img"
      [src]="movie.imagen"
      [alt]="movie.titulo"
    />

    <mat-card-header>
      <mat-card-title>{{ movie.titulo }}</mat-card-title>
      <mat-card-subtitle>
        {{ movie.categoria }} — {{ movie.duracion }}
      </mat-card-subtitle>
    </mat-card-header>

    <mat-card-actions class="actions">
      <button mat-stroked-button color="primary" (click)="playTrailer()">
        ▶ Reproducir
      </button>
      <a
        mat-button
        color="accent"
        [href]="movie.trailerUrl"
        target="_blank"
        rel="noopener"
      >
        🎬 Ver tráiler
      </a>
      <button
        mat-button
        color="warn"
        (click)="toggleFav()"
      >
        {{ isFav() ? '💔 Quitar favorito' : '❤️ Agregar favorito' }}
      </button>
    </mat-card-actions>
  </mat-card>
</main>

<ng-template #notFound>
  <p class="not-found">Película no encontrada.</p>
</ng-template>
